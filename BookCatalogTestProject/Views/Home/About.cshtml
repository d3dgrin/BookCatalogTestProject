@{
    ViewBag.Title = "About";
}
<h2>@ViewBag.Title.</h2>
<h3>@ViewBag.Message</h3>

<p>Use this area to provide additional information.</p>

<div id="summary" class="section panel panel-primary">
    <div class="panel-heading">Все заказы</div>
    <div class="panel-body">
        <table class="table table-striped table-condensed">
            <thead>
                <tr><th>ID</th><th>Имя</th><th>Помещение</th><th></th></tr>
            </thead>
            <tbody>
                <tr>
                    <td data-bind="text: id"></td>
                    <td data-bind="text: personName"></td>
                    <td data-bind="text: personAge"></td>
                    <td>
                        <button class="btn btn-xs btn-primary">
                            Удалить
                        </button>
                    </td>
                </tr>
            </tbody>
            @*<tbody data-bind="foreach: model.books">
            <tr>
                <td data-bind="text: Id"></td>
                <td data-bind="text: Title"></td>
                <td data-bind="text: Rating"></td>
                <td>
                    <button class="btn btn-xs btn-primary">
                        Удалить
                    </button>
                </td>
            </tr>
        </tbody>*@
        </table>
    </div>
</div>

<script>
    let model = {
        books: ko.observableArray()
    };
    let myViewModel = {
        id: ko.observable(1),
        personName: ko.observable('Bob'),
        personAge: ko.observable(123)
    };

    function sendAjaxRequest(httpMethod, callback, url) {
        $.ajax(url, {
            type: httpMethod,
            success: callback
        });
    }

    function getAllItems() {
        sendAjaxRequest("GET", function (data) {
            model.books.removeAll();
            for (var i = 0; i < data.length; i++) {
                model.books.push(data[i]);
            }
        }, "/home/getbooks");
    }

    $(document).ready(function () {
        getAllItems();
        ko.applyBindings(myViewModel);

        setTimeout(function () {
            myViewModel.personName("TEST");
        }, 5000);
    });
</script>